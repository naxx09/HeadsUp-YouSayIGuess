var lib2 = [
    "镰刀", "爱屋及乌", "甄嬛传", "见缝插针", "收音机",
    "鸡毛掸子", "胆小如鼠", "心悦诚服", "容嬷嬷", "流量",
    "查水表", "鸦雀无声", "画蛇添足", "樱桃", "列宁",
    "扳手", "成吉思汗", "狼吞虎咽", "恼羞成怒", "玻璃心",
    "螺丝刀", "包青天", "喋喋不休", "闺蜜", "厚颜无耻",
    "指甲钳", "海王", "爱莫能助", "扎心", "心急如焚",
    "梳子", "宋仲基", "刀子嘴，豆腐心", "七上八下",
    "电钻", "茶壶", "恨铁不成钢", "心猿意马", "吕布",
    "锤子", "樱木花道", "杀鸡儆猴", "三顾茅庐", "猫和老鼠",
    "公鸡", "左右逢源", "花言巧语", "茉莉花", "尊老爱幼",
    "猪", "臭豆腐", "全力以赴", "一山难容二虎", "蝙蝠侠",
    "犀牛", "泰坦尼克号", "关羽", "妙笔生花", "五体投地",
    "兔子", "奶嘴", "不打不相识", "跃跃欲试", "藏龙卧虎",
    "长颈鹿", "唐诗", "梦寐以求", "瞻前顾后", "马云",
    "眼镜蛇", "一鸣惊人", "废寝忘食", "忍者", "周润发",
    "狮子", "西施", "巧妇难为无米之炊", "闻香识女人", "西湖",
    "鳄鱼", "温文尔雅", "蜘蛛侠", "垂头丧气", "拿破仑",
    "恐龙", "电风扇", "人肉", "闻鸡起舞", "压力山大",
    "书", "坑爹", "胸有成竹", "武则天", "全神贯注",
    "钢管舞", "如雷贯耳", "生姜", "周星驰", "鬼鬼祟祟",
    "皮影戏", "闭月羞花", "丘比特", "望尘莫及", "若隐若现",
    "诗经", "杨过", "心领神会", "键盘侠", "雪中送炭",
    "电影", "孔子", "出口成章", "小鸟依人", "高富帅",
    "网红", "快递", "一毛不拔", "风油精", "印刷",
    "双截棍", "指手画脚", "一丝不苟", "东方不败", "坐井观天",
    "匕首", "笑里藏刀", "啤酒", "口若悬河", "玛丽莲梦露",
    "青龙偃月刀", "韬光养晦", "饺子", "熊猫烧香", "macro",
    "坦克", "如鱼得水", "措手不及", "螃蟹", "冰冻三尺非一日之寒",
    "航空母舰", "口红", "昙花一现", "闹钟", "目瞪口呆",
    "手枪", "水冰月", "唇亡齿寒", "吃土", "丑拒",
    "感同身受", "弓箭", "五仁月饼", "刀枪不入", "黑粉",
    "金箍棒", "头悬梁锥刺股", "郭富城", "铁杵磨成针", "王者荣耀",
    "金字塔", "焕然一新", "重启", "拾金不昧", "语无伦次",
    "过河拆桥", "貌合神离", "马路杀手", "妮可基德曼", "持之以恒",
    "房子", "王祖贤", "LOL", "触底反弹", "PlanView",
    "雷峰塔", "舒克与贝塔", "亭亭玉立", "指鹿为马", "金针菇",
    "尬聊", "黑历史", "守得云开见月明", "奥特曼", "见多识广",
    "做贼心虚", "黑夜", "不见棺材不掉泪", "掩耳盗铃", "话痨",
    "乌云", "墙头草", "掌上明珠", "一石二鸟", "SQL Server",
    "下雨", "周杰伦", "这个杀手不太冷", "无心插柳柳成荫", "负荆请罪",
    "雷神", "盲人摸象", "打酱油", "八仙过海，各显神通", "不约而同",
    "极昼", "我不是药神", "打麻将", "釜底抽薪", "螳螂捕蝉黄雀在后",
    "风", "穿针引线", "瑜伽", "一夫当关万夫莫开", "丘吉尔",
    "薄如蝉翼", "花好月圆", "刘德华", "追星", "含沙射影",
    "蜻蜓", "百里挑一", "望梅止渴", "鲁迅", "黔驴技穷",
    "毛毛虫", "格格不入", "WebEx", "守株待兔", "姚明",
    "蚊子", "画龙点睛", "画饼充饥", "DevOps", "密封胶",
    "萤火虫", "SAP ECC", "鹤立鸡群", "眉笔", "拔刀相助",
    "蚂蚱", "Good Game", "火锅", "开黑", "飞禽走兽",
    "红绿灯", "好高骛远", "薛宝钗", "七嘴八舌", "黑屏",
    "自行车", "不怕一万就怕万一", "举一反三", "宅男", "愚公移山",
    "轮船", "葫芦娃", "华盛顿", "东施效颦", "数独",
    "路灯", "直升机", "无名指", "对牛弹琴", "心宽体胖",
    "仪表盘", "程序员", "乐极生悲", "伸手不见五指", "金融危机",
    "水泥", "空心砖", "人工智能 (AI)", "洗白", "人云亦云",
    "瓦特", "举重", "随波逐流", "生活大爆炸", "拖延症",
    "丙二醇", "古筝", "让我们荡起双桨", "墙头草", "Bazinga",
    "跳远", "无事不登三宝殿", "风筝", "烫手山芋", "万众一心",
    "沙漏", "Tableau", "大猪蹄子", "奥黛丽赫本", "EDM",
    "菊花", "火车", "心灵手巧", "以不变应万变", "武松",
    "青花瓷", "彩妆", "暗度陈仓", "遮瑕", "擒贼先擒王",
    "鸭舌帽", "虚拟现实 (VR)", "黑洞", "答非所问", "己所不欲勿施于人",
    "发簪", "大本钟", "宁缺毋滥", "大数据", "囧",
    "富士山", "虎视眈眈", "话不投机半句多", "变形金刚", "滑铁卢",
    "少林寺", "东方明珠", "釜底抽薪", "透视图", "眼疾手快",
    "预聚体", "明信片", "朝思慕想", "黑五", "魔术",
    "Power BI", "大咖", "蹭饭", "黑猫警长", "印度",
    "增强现实 (AR)", "聚乙烯", "山清水秀", "凤毛麟角", "全神贯注",
    "团灭", "笙", "少先队员", "风驰电掣", "鸡蛋里挑骨头",
    "爬墙", "同病相怜", "雷神", "耳环", "本是同根生，相煎何太急",
    "梦游", "李世民", "背影", "龙卷风", "棒棒糖", "风华正茂",
    "木村拓哉", "搁浅", "一点点", "雷厉风行", "啄木鸟",
    "女装大佬", "Cosplay", "避雷针", "一本万利", "双胞胎",
    "债台高筑", "多肉", "黑店", "沽名钓誉", "花木兰",
    "转折点", "出水芙蓉", "段誉", "积少成多", "马后炮",
    "法师", "一马当先", "吊车尾", "护发素", "梦游",
    "基友", "百米飞人", "悖论", "君子一言驷马难追", "呆萌",
    "张冠李戴", "兵马俑", "蒙娜丽莎", "牡丹亭", "四面八方",
    "学富五车", "马文才", "斯文败类", "惊呆了", "百密一疏",
    "哑巴吃黄连", "无师自通", "诸葛亮", "圣斗士", "推心置腹",
    "悲剧", "塞尔维亚", "琅琊榜", "小仙女", "花痴",
    "苏轼", "战战兢兢", "晦涩", "以泪洗面", "毛遂自荐",
    "窦娥", "闻名遐迩", "糖葫芦", "二郎腿", "二郎神",
    "凤梨", "OfO", "加勒比海盗", "欲罢不能", "狸猫换太子",
    "冬至", "斤斤计较", "不拘小节", "拾人牙慧", "食人鱼",
    "鸳鸯", "古天乐", "大起大落", "十年寒窗", "音响",
    "人言可畏", "柯南", "CPU", "AKB48", "庸人自扰",
    "起床气", "哈士奇", "盗梦空间", "门可罗雀", "暗箱",
    "投机取巧", "另辟蹊径", "猫女", "单身狗", "孑然一身",
    "饕餮", "猎人", "月黑风高", "聪明反被聪明误", "摸鱼",
    "黑匣子", "驴头不对马嘴", "百口莫辩", "情有可原", "丧尸",
    "权利的游戏", "天线宝宝", "北极熊", "鱼龙混杂", "马失前蹄",
    "好汉歌", "老佛爷", "天经地义", "供不应求", "一家独大",
    "李连杰", "空手套白狼", "临危受命", "保镖", "桂圆",
    "泡芙", "感激涕零", "舒马赫", "罗马", "风雨交加",
    "许仙", "战利品", "扁鹊", "相亲相爱", "一诺千金",
    "白求恩", "熊猫", "虎口夺食", "良莠不齐", "罗密欧与朱丽叶"
];
var Main = /** @class */ (function () {
    function Main(input) {
        this.input = input;
    }
    ;
    //switch between show and hide
    Main.prototype.toggle = function (element) {
        if (element.ownerDocument.defaultView.getComputedStyle(element, null).display === "none") {
            element.style.display = "block";
        }
        else {
            element.style.display = "none";
        }
    };
    // get a list
    Main.prototype.getRandomList = function () {
        var result = new Array();
        var currentIndex = result.length;
        while (currentIndex < 30) {
            var x = Math.floor(Math.random() * this.input.length);
            result[currentIndex] = this.input[x];
            currentIndex++;
        }
        return result;
    };
    Main.prototype.show = function () {
        var list = this.getRandomList();
        var str = "";
        for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {
            var item = list_1[_i];
            str += "<li>" + item + "</li>";
        }
        document.getElementById("ulWordList").insertAdjacentHTML("beforeend", str);
    };
    // pick a random word
    Main.prototype.getWord = function () {
        var arr1 = this.input.slice();
        var arr2 = this.input.slice();
        var name1, name2;
        arr1.sort(function () { return 0.5 - Math.random(); });
        arr2.sort(function () { return 0.5 - Math.random(); });
        while (arr1.length) {
            name1 = arr1.pop();
            name2 = arr2[0] == name1 ? arr2.pop() : arr2.shift();
        }
        return name1;
    };
    // 2 mins countdown
    Main.prototype.setCountdown = function () {
        var timer = 120, minutes, seconds;
        var spanTimer = document.getElementById("spanTimer");
        this.countInt = setInterval(function () {
            minutes = parseInt((timer / 60).toString(), 10);
            seconds = parseInt((timer % 60).toString(), 10);
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;
            spanTimer.textContent = minutes + ":" + seconds;
            if (--timer < 0) {
                timer = 120;
            }
            if (minutes == "00" && seconds < 11) {
                spanTimer.style.color = "red";
            }
            else {
                spanTimer.style.color = "black";
            }
            if (minutes == "00" && seconds == "01") {
                spanTimer.textContent = "02:00";
                spanTimer.style.color = "black";
            }
        }, 1000);
    };
    Main.prototype.setTimer = function () {
        var _this = this;
        setTimeout(function () {
            _this.toggle(document.getElementById("divGame"));
            _this.toggle(document.getElementById("divEnd"));
            clearInterval(_this.countInt);
        }, 120000);
    };
    return Main;
}());
var mainClass = new Main(lib2);
// btn event
var btnBegin = document.getElementById("btnBegin");
var btnNext = document.getElementById("btnNext");
var btnRestart = document.getElementById("btnRestart");
if (btnBegin) {
    btnBegin.addEventListener("click", function () {
        mainClass.setCountdown();
        mainClass.toggle(document.getElementById("divBegin"));
        mainClass.toggle(document.getElementById("divGame"));
        document.getElementById("pWord").textContent = mainClass.getWord();
        mainClass.setTimer();
    });
}
if (btnNext) {
    btnNext.addEventListener("click", function () {
        document.getElementById("pWord").textContent = mainClass.getWord();
    });
}
if (btnRestart) {
    btnRestart.addEventListener("click", function () {
        mainClass.toggle(document.getElementById("divEnd"));
        mainClass.toggle(document.getElementById("divBegin"));
    });
}
var GuessSong = /** @class */ (function () {
    function GuessSong(audioList) {
        this.audioList = audioList;
        this.name = "";
        this.singer = "";
        this.filename = "";
    }
    GuessSong.prototype.getOneAudio = function () {
        //let x: number, last: number;
        do {
            this.x = Math.floor(Math.random() * this.audioList.length);
        } while (this.x == this.last);
        this.last = this.x;
        //x = Math.floor(Math.random() * this.audioList.length);
        this.name = this.audioList[this.x].split("_")[0];
        this.singer = this.audioList[this.x].split("_")[1];
        this.filename = this.audioList[this.x];
    };
    GuessSong.prototype.setAudioInfo = function () {
        var addr = "/Audio/";
        var format = ".mp3";
        if (this.name == "")
            this.getOneAudio();
        document.querySelector("source").src = addr + this.filename + format;
        document.querySelector("audio").load();
        document.getElementById("pSongsName").textContent = this.name;
        document.getElementById("pSingerName").textContent = this.singer;
    };
    GuessSong.prototype.gotoNext = function () {
        this.getOneAudio();
        this.setAudioInfo();
    };
    return GuessSong;
}());
var audioList = [
    "Bad Boy_张惠妹", "Barbie Girl_Aqua", "It's my life_Bon Jovi", "Butterfly_Smile. DK", "Hey Jude_Beatles", "Rolling in the Deep_Adele", "Tik Tok_Ke$ha", "Uptown Funk_Mark Ronson & Bruno Mars", "Yellow_Coldplay", "一千个伤心的理由_张学友", "世界第一等_刘德华", "伤心1999_王杰", "你好毒_张学友", "兰花草_叶倩文", "刀剑如梦_周华健", "圣诞节_陈奕迅", "处处吻_杨千嬅", "失恋阵线联盟_草蜢", "套马杆_乌兰图雅", "学猫叫_", "成都_赵雷", "梦的点滴_松隆子", "烟花易冷_周杰伦", "爱_小虎队", "爱江山更爱美人_李丽芬", "红玫瑰_陈奕迅", "追光者_伦桑", "风雨无阻_周华健", "饿狼传说_张学友", "鸭子_苏慧伦", "As long as you love me_Backstreet boy", "Beat it_Michael Jackson", "Numb_Linkin Park", "Planet_Lambsey", "Remember the name_Fort Mirror", "Time after time_仓木麻衣", "U make me wanna_Blue", "一天一天_BigBang", "伤心太平洋_任贤齐", "你的眼睛背叛了你的心_郑中基", "只注视着你_大黑摩季", "夜曲_周杰伦", "曹操_林俊杰", "渡情_刘宏元", "演员_薛之谦", "片片枫叶情_张智霖", "甲乙丙丁_张学友 许志安 郑中基", "相思风雨中_张学友 汤宝如", "自由飞翔_凤凰传奇", "追梦人_凤飞飞", "雨一直下_张宇", "鲁冰花_", "龙的传人_张明敏"
];
var audioClass = new GuessSong(audioList);
var divSongsName = document.getElementById("divSongsName");
if (divSongsName) {
    divSongsName.style.display = "none";
    audioClass.setAudioInfo();
}
// button event
var btnShowAns = document.getElementById("btnShowAns");
if (btnShowAns) {
    btnShowAns.addEventListener("click", function () {
        divSongsName.style.display = "block";
    });
}
var btnNextSong = document.getElementById("btnNextSong");
if (btnNextSong) {
    btnNextSong.addEventListener("click", function () {
        divSongsName.style.display = "none";
        audioClass.gotoNext();
    });
}
// press spacekey to play or pause
var audioTag = document.querySelector("audio");
if (audioTag) {
    window.addEventListener('keydown', function (e) {
        var key = e.which || e.keyCode;
        if (key === 32) {
            e.preventDefault();
            audioTag.paused ? audioTag.play() : audioTag.pause();
        }
    });
}
//# sourceMappingURL=C:/Users/yangj/source/repos/youSayIGuess/youSayIGuess/wwwroot/Scripts/src/app/app.js.map